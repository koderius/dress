<ion-header>
  <app-header type="buttons"></app-header>
</ion-header>

<ion-content>

  <ion-list class="app-list">

    <ion-list-header>
      <ion-title>Dress Description</ion-title>
    </ion-list-header>

    <ion-item>
      <ion-label position="stacked" color="light">Name</ion-label>
      <ion-input [(ngModel)]="dress.name"></ion-input>
      <ion-button slot="end" fill="clear" shape="round" (click)="editClicked($event)">
        <ion-icon src="../../assets/svg/icon_edit2.svg" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-item>
      <ion-label position="stacked" color="light">Informative details</ion-label>
      <ion-textarea placeholder="Enter here" [(ngModel)]="dress.description"></ion-textarea>
    </ion-item>

    <ion-item>
      <ion-label position="stacked" color="light">Style</ion-label>
      <ion-input [(ngModel)]="dress.style"></ion-input>
      <ion-button slot="end" fill="clear" shape="round" (click)="editClicked($event)">
        <ion-icon src="../../assets/svg/icon_edit2.svg" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-item>
      <ion-label position="stacked" color="light">Category</ion-label>
      <ion-input readonly [value]="dress.category ? categoryService.getCategoryById(dress.category).title : ''"></ion-input>
      <ion-select class="ion-hide" #categorySelect [(ngModel)]="dress.category">
        <ion-select-option *ngFor="let c of categoryService.allCategories" [value]="c.id">{{c.title}}</ion-select-option>
      </ion-select>
      <ion-button slot="end" fill="clear" shape="round" (click)="categorySelect.open()">
        <ion-icon src="../../assets/svg/icon_chevron-down.svg" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-item>
      <ion-label position="stacked" color="light">Size</ion-label>
      <ion-input readonly [value]="dress.size ? dress.size : ''"></ion-input>
      <ion-select class="ion-hide" #sizeSelect [(ngModel)]="dress.size">
        <ion-select-option *ngFor="let s of DressSizes" [value]="s">{{s}}</ion-select-option>
      </ion-select>
      <ion-button slot="end" fill="clear" shape="round" (click)="sizeSelect.open()">
        <ion-icon src="../../assets/svg/icon_chevron-down.svg" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-item>
      <ion-label position="stacked" color="light">Rent price</ion-label>
      <ion-input type="number" min="0" [(ngModel)]="dress.price"></ion-input>
      <ion-button slot="end" fill="clear" shape="round" (click)="editClicked($event)">
        <ion-icon src="../../assets/svg/icon_edit2.svg" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-item>
      <ion-label position="stacked" color="light">Available dates - FROM</ion-label>
      <ion-input readonly></ion-input>
      <ion-button slot="end" fill="clear" shape="round" (click)="openCalendar($event)">
        <ion-icon src="../../assets/svg/icon_calendar.svg" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-item>
      <ion-label position="stacked" color="light">Available dates - TO</ion-label>
      <ion-input readonly></ion-input>
      <ion-button slot="end" fill="clear" shape="round" (click)="openCalendar($event)">
        <ion-icon src="../../assets/svg/icon_calendar.svg" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-item>
      <ion-label position="stacked" color="light">Deposit amount</ion-label>
      <ion-input type="number" min="0" [(ngModel)]="dress.deposit"></ion-input>
      <ion-button slot="end" fill="clear" shape="round" (click)="editClicked($event)">
        <ion-icon src="../../assets/svg/icon_edit2.svg" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-item>
      <ion-label position="stacked" color="light">Delivery time (in days)</ion-label>
      <ion-input type="number" min="0" [(ngModel)]="dress.supplyDays"></ion-input>
      <ion-button slot="end" fill="clear" shape="round" (click)="editClicked($event)">
        <ion-icon src="../../assets/svg/icon_edit2.svg" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-item>
      <ion-label position="stacked" color="light">Turn back time (in days)</ion-label>
      <ion-input type="number" min="0" [(ngModel)]="dress.returnDays"></ion-input>
      <ion-button slot="end" fill="clear" shape="round" (click)="editClicked($event)">
        <ion-icon src="../../assets/svg/icon_edit2.svg" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-item>
      <ion-label position="stacked" color="light">Color</ion-label>
      <ion-input [(ngModel)]="dress.color"></ion-input>
      <ion-button slot="end" fill="clear" shape="round" (click)="editClicked($event)">
        <ion-icon src="../../assets/svg/icon_edit2.svg" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-item>

    <ion-row>
      <ion-button shape="round" color="secondary" class="normal-btn" id="photos-btn" (click)="inputImage.click()">Upload Photos</ion-button>
      <input type="file" accept="image/*" multiple class="ion-hide" #inputImage (change)="onPhotosSelected($event)">
    </ion-row>
    <ion-item>
      <ion-slides [options]="photosSliderOptions" *ngIf="dress.photos.length || photosInProgress.length">
        <ion-slide *ngFor="let p of dress.photos">
<!--          <ion-button fill="clear" shape="round">-->
<!--            <ion-icon slot="icon-only" name="close-circle" color="danger"></ion-icon>-->
<!--          </ion-button>-->
          <img [src]="p">
        </ion-slide>
        <ion-slide *ngFor="let p of photosInProgress">
          <div class="on-progress">
            <ion-spinner color="light"></ion-spinner>
            <div [ngStyle]="{width: p.progress+'%'}"></div>
          </div>
        </ion-slide>
      </ion-slides>
    </ion-item>

  </ion-list>

</ion-content>

<ion-footer>
  <ion-button expand="full" color="secondary">Publish</ion-button>
  <ion-button expand="full" color="medium" (click)="save()">Save as draft</ion-button>
</ion-footer>
